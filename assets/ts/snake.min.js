/******/
!function(t){function e(i){if(n[i])return n[i].exports
var o=n[i]={i:i,l:!1,exports:{}}
return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={}
e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t}
return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict"
var i=n(2)
!function(t){t[t.right=0]="right",t[t.left=1]="left",t[t.up=2]="up",t[t.down=3]="down"}(e.Direction||(e.Direction={}))
var o=e.Direction,r=function(){function t(t,e){this.x=t,this.y=e}return t}()
e.Coordonates=r
var s=function(){function t(t,e){this.body=[],this.screen=t,this.direction=o.right
for(var n=0;n<e.length;n++)this.body.push(new r(e[n].x,e[n].y))}return t.prototype.draw=function(){for(var t,e,n=0;n<this.body.length;n++){t=parseInt(String(this.body[n].x))*parseInt(String(this.screen.blocSize))+"px",e=parseInt(String(this.body[n].y))*parseInt(String(this.screen.blocSize))+"px"
var i=document.createElement("div")
i.className="bloc",i.style.top=e,i.style.left=t,i.innerHTML=" ",this.screen.element.appendChild(i)}},t.prototype.move=function(t){this.body.pop(),this.body.unshift(t)},t.prototype.eatFood=function(t){this.body.unshift(new r(t.position.x,t.position.y))},t.prototype.checkGameOver=function(){for(var t=1;t<this.body.length;t++)if(this.body[t].x==this.body[0].x&&this.body[t].y==this.body[0].y)return!0
return!1},t}()
e.Snake=s
var h=function(){function t(t){this.screen=t,this.position=new r(null,null)}return t.prototype.randomIntFromInterval=function(t,e){return Math.random()*(e-t)+t},t.prototype.getRandomBloc=function(){var t=parseInt(String(this.randomIntFromInterval(this.screen.border.left,this.screen.border.right))),e=parseInt(String(this.randomIntFromInterval(this.screen.border.top,this.screen.border.down)))
this.position.x=t,this.position.y=e},t.prototype.draw=function(){var t=parseInt(""+this.position.x)*parseInt(""+this.screen.blocSize)+"px",e=parseInt(""+this.position.y)*parseInt(""+this.screen.blocSize)+"px",n=document.createElement("div")
n.className="bloc",n.style.top=e,n.style.left=t,n.innerHTML=" ",this.screen.element.appendChild(n)},t}()
e.Food=h
var c=function(){function t(t,e){this.score=0,this.gameOver=!1,this.screen=new i.Screen(t,e),this.snake=new s(this.screen,[{x:2,y:2},{x:2,y:1},{x:1,y:1},{x:0,y:1},{x:0,y:0}]),this.food=new h(this.screen),this.food.getRandomBloc()}return t.prototype.setScreen=function(t){this.screen=t},t.prototype.setSnake=function(t){this.snake=t},t.prototype.setFood=function(t){this.food=t},t.prototype.start=function(){var t
return this.snake.direction==o.right?t=this.snake.body[0].x<this.screen.border.right-1?new r(this.snake.body[0].x+1,this.snake.body[0].y):new r(this.screen.border.left,this.snake.body[0].y):this.snake.direction==o.left?t=this.snake.body[0].x>this.screen.border.left?new r(this.snake.body[0].x-1,this.snake.body[0].y):new r(this.screen.border.right-1,this.snake.body[0].y):this.snake.direction==o.up?t=this.snake.body[0].y>this.screen.border.top?new r(this.snake.body[0].x,this.snake.body[0].y-1):new r(this.snake.body[0].x,this.screen.border.down-1):this.snake.direction==o.down&&(t=this.snake.body[0].y<this.screen.border.down-1?new r(this.snake.body[0].x,this.snake.body[0].y+1):new r(this.snake.body[0].x,this.screen.border.top)),this.snake.move(t),this.screen.cleanScreen(),this.snake.draw(),this.snake.checkGameOver()?this.gameOver=!0:(this.snake.body[0].x==this.food.position.x&&this.snake.body[0].y==this.food.position.y&&(this.snake.eatFood(this.food),this.score+=this.snake.body.length,this.screen.scoreElement.innerHTML="Score: "+this.score,this.food.getRandomBloc()),this.food.draw()),this.gameOver},t}()
e.Game=c},function(t,e,n){"use strict"
var i=n(0),o=n(3),r=document.getElementById("snake"),s=document.getElementById("score"),h=!0,c=new i.Game(r,s),d=(new o.KeyboardController(c.snake),!1),a=setInterval(function(){d=c.start(),console.log(d),d&&(clearInterval(a),h=confirm("Game Over\nWould you like replay a new game ?"))},80)},function(t,e,n){"use strict"
var i=function(){function t(){}return t}()
e.Border=i
var o=function(){function t(t,e,n){this.element=t,this.scoreElement=e,this.blocSize=n||20,this.border=new i,this.border.left=0,this.border.right=0,this.border.top=0,this.border.down=0,this.width="0",this.height="0",this.adapt(),this.element.style.width=this.width,this.element.style.height=this.height}return t.prototype.adapt=function(){this.width=parseInt(String(parseFloat(getComputedStyle(this.element,null).width)/this.blocSize))*this.blocSize+"px",this.height=parseInt(String(parseFloat(getComputedStyle(this.element,null).height)/this.blocSize))*this.blocSize+"px",this.border.left=0,this.border.top=0,this.border.right=parseFloat(this.width)/this.blocSize,this.border.down=parseFloat(this.height)/this.blocSize},t.prototype.cleanScreen=function(){var t=this.element.parentNode,e=document.createElement("div")
e.id="snake",e.style.width=this.width,e.style.height=this.height,e.className="snake",t.replaceChild(e,this.element),this.element=e},t}()
e.Screen=o},function(t,e,n){"use strict"
var i=n(0),o=function(){function t(t){this.snake=t,this.listen(this.snake)}return t.prototype.listen=function(t){document.addEventListener("keydown",function(e){var n=String(e.keyCode)
"37"==n?t.direction!=i.Direction.right&&(t.direction=i.Direction.left):"38"==n?t.direction!=i.Direction.down&&(t.direction=i.Direction.up):"39"==n?t.direction!=i.Direction.left&&(t.direction=i.Direction.right):"40"==n&&t.direction!=i.Direction.up&&(t.direction=i.Direction.down)},!1)},t}()
e.KeyboardController=o}])
